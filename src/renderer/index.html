<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KITSWebGen</title>
    <link rel="icon" href="icon.png">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="notifications.css">
    <link rel="stylesheet" href="ai-styles.css">
    <link rel="stylesheet" href="engine-switcher.css">
</head>

<body>
    <!-- Page Loading Progress Bar -->
    <div id="page-progress" class="page-progress"></div>

    <div id="titleapi">
        <!-- Window Controls -->
        <!-- Tabs in Titlebar -->
        <div class="tab-bar-container titlebar-tabs">
            <div id="tabs-container" class="tabs"></div>
            <button id="new-tab-btn" class="new-tab-btn" title="New Tab" aria-label="New Tab">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <line x1="12" y1="5" x2="12" y2="19"></line>
                    <line x1="5" y1="12" x2="19" y2="12"></line>
                </svg>
            </button>
            <span id="tab-count" class="tab-count">1</span>
        </div>

        <!-- Window Controls -->
        <!-- Custom Win Controls -->
        <div class="window-controls">
            <button class="win-btn" id="min-btn" title="Minimize" aria-label="Minimize"></button>
            <button class="win-btn" id="max-btn" title="Fullscreen" aria-label="Fullscreen"></button>
            <button class="win-btn" id="close-btn-win" title="Close" aria-label="Close"></button>
        </div>
    </div>

    <div class="browser-chrome">
        <!-- New Rounded Toolbar -->
        <div class="toolbar">
            <div class="nav-controls">
                <button id="back-btn" disabled>
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z" />
                    </svg>
                </button>
                <button id="forward-btn" disabled>
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z" />
                    </svg>
                </button>
                <button id="refresh-btn">
                    <svg width="22" height="22" viewBox="0 0 24 24" fill="currentColor">
                        <path
                            d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z" />
                    </svg>
                </button>
                <button id="home-btn" style="margin-left: 4px;">
                    <svg width="22" height="22" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z" />
                    </svg>
                </button>
            </div>

            <div class="omnibox-container">
                <div class="search-engine-control" style="position: relative; display: flex; align-items: center;">
                    <button id="header-engine-btn" class="icon-btn" title="Change Search Engine"
                        style="padding: 4px; margin-right: 2px; border-radius: 6px; opacity: 0.7;">
                        <img id="header-engine-icon" src="https://www.google.com/favicon.ico" width="16" height="16"
                            style="display:block; border-radius: 50%;">
                    </button>
                    <div id="header-engine-dropdown" class="engine-dropdown hidden">
                        <div class="engine-group-title"
                            style="padding:4px 12px; font-size:11px; opacity:0.5; text-transform:uppercase; font-weight:700;">
                            Search</div>
                        <div class="engine-item" data-value="google">
                            <img src="https://www.google.com/s2/favicons?domain=google.com&sz=64" width="14"
                                height="14"> <span>Google</span>
                        </div>
                        <div class="engine-item" data-value="bing">
                            <img src="https://www.google.com/s2/favicons?domain=bing.com&sz=64" width="14" height="14">
                            <span>Bing</span>
                        </div>
                        <div class="engine-item" data-value="duckduckgo">
                            <img src="https://www.google.com/s2/favicons?domain=duckduckgo.com&sz=64" width="14"
                                height="14">
                            <span>DuckDuckGo</span>
                        </div>
                        <div class="engine-item" data-value="brave">
                            <img src="https://www.google.com/s2/favicons?domain=search.brave.com&sz=64" width="14"
                                height="14">
                            <span>Brave</span>
                        </div>

                        <div style="height:1px; background:var(--sys-glass-border); margin:4px 0;"></div>
                        <div class="engine-group-title"
                            style="padding:4px 12px; font-size:11px; opacity:0.5; text-transform:uppercase; font-weight:700;">
                            AI / LLM</div>

                        <div class="engine-item" data-value="perplexity">
                            <img src="https://www.google.com/s2/favicons?domain=perplexity.ai&sz=64" width="14"
                                height="14">
                            <span>Perplexity</span>
                        </div>
                        <div class="engine-item" data-value="chatgpt">
                            <img src="https://www.google.com/s2/favicons?domain=chatgpt.com&sz=64" width="14"
                                height="14"> <span>ChatGPT</span>
                        </div>
                        <div class="engine-item" data-value="claude">
                            <img src="https://www.google.com/s2/favicons?domain=claude.ai&sz=64" width="14" height="14">
                            <span>Claude</span>
                        </div>
                        <div class="engine-item" data-value="copilot">
                            <img src="https://www.google.com/s2/favicons?domain=copilot.microsoft.com&sz=64" width="14"
                                height="14"> <span>Copilot</span>
                        </div>
                        <div class="engine-item" data-value="gemini">
                            <img src="https://www.google.com/s2/favicons?domain=gemini.google.com&sz=64" width="14"
                                height="14"> <span>Gemini</span>
                        </div>
                        <div class="engine-item" data-value="deepseek">
                            <img src="https://www.google.com/s2/favicons?domain=chat.deepseek.com&sz=64" width="14"
                                height="14">
                            <span>DeepSeek</span>
                        </div>
                    </div>
                </div>
                <button id="secure-icon" class="secure-icon" type="button" title="Site security"
                    aria-label="Site security">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
                        <path
                            d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z" />
                    </svg>
                </button>
                <input type="text" id="omnibox" placeholder="Search Google or type a URL" autocomplete="off" />
                <button id="bookmark-btn" class="icon-btn" title="Bookmark this page">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2z" />
                    </svg>
                </button>
                <div id="suggestions-list" class="suggestions-list hidden"></div>
            </div>

            <div class="ext-controls" style="padding-right: 8px; display: flex; gap: 4px; align-items:center;">

                <button id="zen-btn" title="Zen Mode">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z" />
                    </svg>
                </button>
                <button id="reader-btn" title="Reader Mode">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path
                            d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z" />
                    </svg>
                </button>
                <button id="ai-toggle-btn" title="AI Assistant (Ctrl+J)" style="color: var(--md-sys-color-primary);">
                    <svg width="22" height="22" viewBox="0 0 24 24" fill="currentColor">
                        <path
                            d="M19 9l1.25-2.75L23 5l-2.75-1.25L19 1l-1.25 2.75L15 5l2.75 1.25L19 9zm-7.5.5L9 4 6.5 9.5 1 12l5.5 2.5L9 20l2.5-5.5L17 12l-5.5-2.5zM19 15l-1.25 2.75L15 19l2.75 1.25L19 23l1.25-2.75L23 19l-2.75-1.25L19 15z" />
                    </svg>
                </button>
                <button id="google-apps-btn" title="Google Apps & Accounts"
                    style="color: var(--md-sys-color-on-surface);">
                    <svg width="22" height="22" viewBox="0 0 24 24" fill="currentColor">
                        <path
                            d="M4 8h4V4H4v4zm6 12h4v-4h-4v4zm-6 0h4v-4H4v4zm0-6h4v-4H4v4zm6 0h4v-4h-4v4zm6-10v4h4V4h-4zm-6 4h4V4h-4v4zm6 6h4v-4h-4v4zm0 6h4v-4h-4v4z" />
                    </svg>
                </button>
                <div
                    style="width: 1px; background: var(--md-sys-color-outline); height: 20px; margin: 0 4px; opacity: 0.3;">
                </div>
                <button id="user-btn" title="KITS Profile" style="color: var(--md-sys-color-primary);">
                    <svg width="22" height="22" viewBox="0 0 24 24" fill="currentColor">
                        <path
                            d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z" />
                    </svg>
                </button>
                <button id="menu-btn" title="Menu" aria-label="Menu">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                        <path
                            d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z" />
                    </svg>
                </button>
            </div>
        </div>

        <!-- Bookmarks Bar (Hidden by default) -->
        <div id="bookmarks-bar" class="bookmarks-bar hidden"></div>
    </div>

    <!-- Main Content: Sidebar + Webview + AI Panel -->
    <div class="main-content">
        <!-- New Navigation Sidebar -->
        <div class="side-nav">
            <div class="side-nav-top">
                <button class="side-item active" title="Search">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                        <path
                            d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" />
                    </svg>
                </button>
                <button class="side-item" title="Bookmarks" id="side-bookmarks-btn">
                    <svg width="22" height="22" viewBox="0 0 24 24" fill="currentColor">
                        <path
                            d="M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2zm0 15l-5-2.18L7 18V5h10v13z" />
                    </svg>
                </button>
                <button class="side-item" title="History" id="side-history-btn">
                    <svg width="22" height="22" viewBox="0 0 24 24" fill="currentColor">
                        <path
                            d="M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 6v5l4.28 2.54.72-1.21-3.5-2.08V9H12z" />
                    </svg>
                </button>
                <div style="width: 24px; height: 1px; background: var(--sys-glass-border); margin: 8px 0;"></div>
                <button class="side-item" title="Privacy Dashboard" id="side-privacy-btn">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path
                            d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z" />
                    </svg>
                </button>
                <button class="side-item" title="Command Palette (Ctrl+K)" id="side-command-btn">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path
                            d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V6h16v12zM9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z" />
                    </svg>
                </button>
                <div style="width: 24px; height: 1px; background: var(--sys-glass-border); margin: 8px 0;"></div>
            </div>
            <div class="side-nav-bottom">
                <button class="side-item" title="Downloads">
                    <svg width="22" height="22" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z" />
                    </svg>
                </button>
                <button class="side-item" id="sidebar-settings-btn" title="Settings">
                    <svg width="22" height="22" viewBox="0 0 24 24" fill="currentColor">
                        <path
                            d="M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z" />
                    </svg>
                </button>
            </div>
        </div>

        <div class="center-content">
            <div id="webview-container" class="webview-container"></div>
            <!-- Status Bar -->
            <div id="status-bar" class="status-bar">
                <span id="status-text">Ready</span>
                <div style="display:flex; align-items:center; gap: 12px;">
                    <span id="network-speed" title="Browser Data Consumption">‚¨áÔ∏è 0 Kbps | ‚¨ÜÔ∏è 0 Kbps</span>
                    <span id="global-time" style="font-weight:600;">12:00 PM</span>
                    <span id="session-info">KITS Secure Session</span>
                </div>
            </div>
        </div>

        <!-- AI Assistant Panel -->
        <div id="ai-panel" class="ai-panel glass hidden">
            <div class="ai-header">
                <div class="ai-title">KITS AI Assistant</div>
                <button id="close-ai-panel" class="close-btn">&times;</button>
            </div>

            <div id="ai-messages" class="ai-messages">
                <div class="ai-msg ai-bot">
                    Hello! I'm ready to assist you.
                </div>
            </div>

            <div class="ai-suggestions-area">
                <div class="ai-suggestion-card" onclick="window.askAI('Summarize this page')">
                    <div class="ai-card-title">üìù Summarize Page</div>
                </div>
                <div class="ai-suggestion-card" onclick="window.askAI('Explain key concepts')">
                    <div class="ai-card-title">üéì Key Concepts</div>
                </div>
                <div class="ai-suggestion-card" onclick="window.askAI('Suggest related topics')">
                    <div class="ai-card-title">üîó Related Topics</div>
                </div>
            </div>

            <div class="ai-input-area">
                <input type="text" id="ai-input" placeholder="Ask anything about this page..." />
                <button id="ai-send-btn">‚û§</button>
            </div>
        </div>

    </div>

    <!-- Command Palette -->
    <div id="command-palette" class="modal hidden">
        <div class="palette-content glass">
            <div class="palette-input-wrapper">
                <svg class="palette-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="11" cy="11" r="8"></circle>
                    <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                </svg>
                <input type="text" id="palette-input" placeholder="Search commands or tabs..." autocomplete="off">
            </div>
            <div id="palette-results" class="palette-results">
                <div class="palette-group">COMMANDS</div>
                <div class="palette-item active" data-cmd="new-tab">
                    <div class="p-item-icon"><svg width="14" height="14" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2">
                            <line x1="12" y1="5" x2="12" y2="19"></line>
                            <line x1="5" y1="12" x2="19" y2="12"></line>
                        </svg></div>
                    <span>New Tab</span>
                    <kbd>Ctrl+T</kbd>
                </div>
                <div class="palette-item" data-cmd="toggle-ai">
                    <div class="p-item-icon"><svg width="14" height="14" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"></circle>
                            <path d="M12 8v4"></path>
                            <path d="M12 16h.01"></path>
                        </svg></div>
                    <span>Toggle AI Panel</span>
                    <kbd>Ctrl+J</kbd>
                </div>
                <div class="palette-item" data-cmd="toggle-zen">
                    <div class="p-item-icon"><svg width="14" height="14" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2">
                            <path d="M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7"></path>
                        </svg></div>
                    <span>Toggle Zen Mode</span>
                </div>
                <div class="palette-item" data-cmd="toggle-reader">
                    <div class="p-item-icon"><svg width="14" height="14" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2">
                            <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                            <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                        </svg></div>
                    <span>Reader Mode</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Privacy Dashboard Modal -->
    <div id="privacy-modal" class="modal hidden">
        <div class="modal-content glass privacy-content">
            <div class="modal-header">
                <h2>Privacy Dashboard</h2>
                <button id="close-privacy" class="close-btn">&times;</button>
            </div>
            <div class="privacy-stats">
                <div class="stat-card">
                    <div class="stat-value" id="ads-blocked-count">0</div>
                    <div class="stat-label">Ads Blocked</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="trackers-blocked-count">0</div>
                    <div class="stat-label">Trackers Blocked</div>
                </div>
            </div>
            <div class="privacy-list">
                <h3>Trackers Filtered This Session</h3>
                <div id="tracker-list-container">
                    <div class="tracker-item"><span>google-analytics.com</span><span
                            class="badged blocked">Blocked</span></div>
                    <div class="tracker-item"><span>doubleclick.net</span><span class="badged blocked">Blocked</span>
                    </div>
                    <div class="tracker-item"><span>facebook.net</span><span class="badged blocked">Blocked</span></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div id="settings-modal" class="modal hidden">
        <div class="modal-content glass" style="width:500px;">
            <div class="modal-header">
                <h2>Browser Settings</h2>
                <button id="close-settings" class="close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <!-- Profile Section -->
                <div class="setting-group">
                    <h3>Profile</h3>
                    <div id="profile-section"></div>
                </div>
                <div class="setting-group">
                    <h3>Search Engine</h3>
                    <select id="engine-select" class="kits-select">
                        <option value="google">Google</option>
                        <option value="bing">Bing</option>
                        <option value="duckduckgo">DuckDuckGo</option>
                        <option value="brave">Brave</option>
                        <option disabled>‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ</option>
                        <option value="perplexity">Perplexity AI</option>
                        <option value="chatgpt">ChatGPT</option>
                        <option value="claude">Claude</option>
                        <option value="copilot">Microsoft Copilot</option>
                        <option value="gemini">Google Gemini</option>
                        <option value="deepseek">DeepSeek</option>
                    </select>
                </div>
                <div class="setting-group">
                    <h3>Appearance</h3>
                    <select id="theme-select" class="kits-select">
                        <option value="system">System</option>
                        <option value="dark">Dark</option>
                        <option value="light">Light</option>
                    </select>
                </div>
                <div class="setting-group">
                    <h3>Experimental Features</h3>
                    <div class="setting-item">
                        <span>High-Speed Rendering</span>
                        <input type="checkbox" checked disabled>
                    </div>
                    <div class="setting-item">
                        <span>Ad & Tracker Blocking</span>
                        <input type="checkbox" id="adblock-toggle" checked>
                    </div>
                    <div class="setting-item">
                        <span>Google Services Sync</span>
                        <input type="checkbox" checked>
                    </div>
                </div>
                <div class="setting-group">
                    <h3>Performance</h3>
                    <button id="clear-cache-btn" class="kits-btn secondary">Clear Cache</button>
                    <button id="open-clear-data-btn" class="kits-btn secondary" style="margin-left:8px;">Clear Browsing
                        Data</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Clear Browsing Data Modal -->
    <div id="clear-data-modal" class="modal hidden">
        <div class="modal-content glass" style="width:460px;">
            <div class="modal-header">
                <h2>Clear browsing data</h2>
                <button id="close-clear-data" class="close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <div class="setting-group" style="margin-bottom:18px;">
                    <h3>Choose what to clear</h3>
                    <div class="setting-item">
                        <span>Browsing history</span>
                        <input type="checkbox" id="clear-data-history" checked>
                    </div>
                    <div class="setting-item">
                        <span>Cached images and files</span>
                        <input type="checkbox" id="clear-data-cache" checked>
                    </div>
                    <div class="setting-item">
                        <span>Cookies and site data</span>
                        <input type="checkbox" id="clear-data-cookies" checked>
                    </div>
                    <div class="setting-item">
                        <span>Download history</span>
                        <input type="checkbox" id="clear-data-downloads">
                    </div>
                    <div class="setting-item">
                        <span>Bookmarks</span>
                        <input type="checkbox" id="clear-data-bookmarks">
                    </div>
                </div>

                <div style="display:flex; gap:10px; justify-content:flex-end;">
                    <button id="clear-data-cancel" class="kits-btn secondary">Cancel</button>
                    <button id="clear-data-confirm" class="kits-btn danger">Clear data</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Login / Profile Modal ‚Äî Google Style -->
    <div id="login-modal" class="modal hidden">
        <div class="modal-content glass" style="width:440px; padding:0; overflow:hidden;">
            <!-- Close button -->
            <button id="close-login" class="close-btn"
                style="position:absolute; top:12px; right:12px; z-index:10;">&times;</button>

            <!-- Google-style header -->
            <div style="text-align:center; padding:40px 40px 0;">
                <div style="display:inline-flex; margin-bottom:20px;">
                    <span style="font-size:36px; font-weight:700; color:#4285F4;">K</span>
                    <span style="font-size:36px; font-weight:700; color:#EA4335;">I</span>
                    <span style="font-size:36px; font-weight:700; color:#FBBC05;">T</span>
                    <span style="font-size:36px; font-weight:700; color:#34A853;">S</span>
                </div>
                <h2 id="login-title"
                    style="font-size:22px; font-weight:400; margin-bottom:8px; color:var(--md-sys-color-on-surface);">
                    Sign in</h2>
                <p id="login-subtitle" style="font-size:14px; opacity:0.6; margin-bottom:28px;">Use your KITS Account
                    to sync bookmarks, history &amp; settings</p>
            </div>

            <div style="padding:0 40px 36px;">
                <div id="login-name-row" style="margin-bottom:16px;">
                    <label
                        style="font-size:11px; color:var(--md-sys-color-primary); display:block; margin-bottom:4px; font-weight:500;">Display
                        Name</label>
                    <input type="text" id="login-name" class="kits-input" placeholder="Your name" />
                </div>
                <div style="margin-bottom:16px;">
                    <label
                        style="font-size:11px; color:var(--md-sys-color-primary); display:block; margin-bottom:4px; font-weight:500;">Email</label>
                    <input type="email" id="login-email" class="kits-input" placeholder="you@example.com" />
                </div>
                <div style="margin-bottom:20px;">
                    <label
                        style="font-size:11px; color:var(--md-sys-color-primary); display:block; margin-bottom:4px; font-weight:500;">Password</label>
                    <input type="password" id="login-password" class="kits-input" placeholder="Enter password" />
                </div>

                <div id="login-error"
                    style="color:#EA4335; font-size:12px; margin-bottom:14px; text-align:center; display:none;"></div>

                <div style="display:flex; gap:12px; justify-content:space-between; align-items:center;">
                    <button id="login-signup-btn"
                        style="background:none; border:none; color:#4285F4; font-size:13px; cursor:pointer; font-weight:500; padding:8px 0;">
                        Create account
                    </button>
                    <button id="login-submit-btn"
                        style="background:#4285F4; color:white; border:none; padding:10px 28px; border-radius:8px; font-weight:600; font-size:14px; cursor:pointer; box-shadow:0 2px 6px rgba(66,133,244,0.3);">
                        Sign In
                    </button>
                </div>

                <!-- Divider -->
                <div style="display:flex; align-items:center; gap:12px; margin:24px 0 16px;">
                    <div style="flex:1; height:1px; background:var(--sys-glass-border);"></div>
                    <span style="font-size:11px; opacity:0.4; text-transform:uppercase; letter-spacing:1px;">or</span>
                    <div style="flex:1; height:1px; background:var(--sys-glass-border);"></div>
                </div>

                <!-- Google search shortcut button -->
                <button id="google-search-btn"
                    style="width:100%; display:flex; align-items:center; justify-content:center; gap:10px; padding:10px; border-radius:8px; border:1px solid var(--sys-glass-border); background:transparent; color:var(--md-sys-color-on-surface); cursor:pointer; font-size:13px;">
                    <svg width="18" height="18" viewBox="0 0 24 24">
                        <path
                            d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92a5.06 5.06 0 0 1-2.2 3.32v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.1z"
                            fill="#4285F4" />
                        <path
                            d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"
                            fill="#34A853" />
                        <path
                            d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"
                            fill="#FBBC05" />
                        <path
                            d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"
                            fill="#EA4335" />
                    </svg>
                    Continue with Google Search
                </button>
            </div>
        </div>
    </div>

    <!-- Download Toast -->
    <div id="download-toast" class="download-toast hidden">
        <div class="download-toast-icon">‚¨áÔ∏è</div>
        <div class="download-toast-info">
            <span id="download-filename" class="download-filename">file.zip</span>
            <div class="download-progress-bar">
                <div id="download-progress-fill" class="download-progress-fill"></div>
            </div>
            <span id="download-status-text" class="download-status-text">Downloading...</span>
        </div>
    </div>

    <!-- Dynamic Notifications (Snackbar) -->
    <div id="notification" class="notification hidden">
        <span id="notification-msg"></span>
    </div>

    <!-- Find in Page Bar -->
    <div id="find-bar" class="find-bar hidden">
        <div class="find-bar-inner">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                style="opacity:0.5; flex-shrink:0;">
                <circle cx="11" cy="11" r="8" />
                <line x1="21" y1="21" x2="16.65" y2="16.65" />
            </svg>
            <input type="text" id="find-input" placeholder="Find in page..." autocomplete="off" />
            <span id="find-count" class="find-count">0/0</span>
            <button id="find-prev" class="find-nav-btn" title="Previous">&#9650;</button>
            <button id="find-next" class="find-nav-btn" title="Next">&#9660;</button>
            <button id="find-close" class="find-nav-btn" title="Close">&times;</button>
        </div>
    </div>

    <!-- Zoom Indicator -->
    <div id="zoom-indicator" class="zoom-indicator hidden">
        <span id="zoom-level">100%</span>
    </div>

    <!-- Tab Context Menu -->
    <div id="tab-context-menu" class="tab-context-menu hidden">
        <div class="ctx-item" data-action="reload-tab">üîÑ Reload Tab</div>
        <div class="ctx-item" data-action="duplicate-tab">üìã Duplicate Tab</div>
        <div class="ctx-item" data-action="pin-tab">üìå Pin Tab</div>
        <div class="ctx-item" data-action="mute-tab">üîá Mute Tab</div>
        <div class="ctx-separator"></div>
        <div class="ctx-item" data-action="close-other">Close Other Tabs</div>
        <div class="ctx-item" data-action="close-right">Close Tabs to Right</div>
        <div class="ctx-separator"></div>
        <div class="ctx-item danger" data-action="close-tab">‚úï Close Tab</div>
    </div>

    <!-- App Menu -->
    <div id="app-menu" class="app-menu hidden">
        <div class="app-menu-item" data-action="new-tab">New Tab <kbd>Ctrl+T</kbd></div>
        <div class="app-menu-item" data-action="new-incognito-tab">New Incognito Tab <kbd>Ctrl+Shift+N</kbd></div>
        <div class="app-menu-item" data-action="reopen-closed">Reopen Closed Tab <kbd>Ctrl+Shift+T</kbd></div>
        <div class="app-menu-sep"></div>
        <div class="app-menu-item" data-action="history">History</div>
        <div class="app-menu-item" data-action="bookmarks">Bookmarks</div>
        <div class="app-menu-item" data-action="downloads">Downloads</div>
        <div class="app-menu-sep"></div>
        <div class="app-menu-item" data-action="clear-browsing-data">Clear Browsing Data <kbd>Ctrl+Shift+Del</kbd></div>
        <div class="app-menu-sep"></div>
        <div class="app-menu-item" data-action="privacy">Privacy Dashboard</div>
        <div class="app-menu-item" data-action="settings">Settings</div>
        <div class="app-menu-item" data-action="screenshot">Screenshot</div>
        <div class="app-menu-sep"></div>
        <div class="app-menu-item" data-action="about">About</div>
        <div class="app-menu-item" data-action="system-info">System Info</div>
    </div>

    <!-- Security Warning Banner -->
    <div id="security-banner" class="security-banner hidden">
        <span id="security-banner-icon">‚ö†Ô∏è</span>
        <span id="security-banner-msg">Security warning</span>
        <button id="security-banner-close" class="find-nav-btn">&times;</button>
    </div>

    <!-- About Modal -->
    <div id="about-modal" class="modal hidden">
        <div class="modal-content glass" style="width:420px; text-align:center;">
            <img src="icon.png" alt="KITSWebGen"
                style="width:72px; height:72px; margin-bottom:12px; border-radius:18px; box-shadow:0 10px 30px rgba(0,0,0,0.25);" />
            <h2 style="margin-bottom:4px;">KITSWebGen</h2>
            <div style="opacity:0.5; font-size:12px; margin-bottom:20px;">Chromium-based Secure Browser</div>
            <div id="about-info" style="text-align:left; font-size:13px; line-height:2; opacity:0.8;"></div>
            <button id="close-about" class="kits-btn secondary"
                style="margin-top:20px; padding:8px 24px; border-radius:12px; cursor:pointer;">Close</button>
        </div>
    </div>

    <!-- System Info Modal -->
    <div id="sysinfo-modal" class="modal hidden">
        <div class="modal-content glass" style="width:520px;">
            <div class="modal-header">
                <h2>System Information</h2>
                <button id="close-sysinfo" class="close-btn">&times;</button>
            </div>
            <div id="sysinfo-content" style="font-size:13px; line-height:2;"></div>
        </div>
    </div>

    <!-- Downloads Modal -->
    <div id="downloads-modal" class="modal hidden">
        <div class="modal-content glass" style="width:680px; max-height:85vh; overflow-y:auto;">
            <div class="modal-header">
                <h2>Downloads</h2>
                <div style="display:flex; gap:8px; align-items:center;">
                    <button id="downloads-clear-btn" class="kits-btn secondary"
                        style="padding:6px 12px; border-radius:10px; cursor:pointer;">Clear</button>
                    <button id="close-downloads" class="close-btn">&times;</button>
                </div>
            </div>
            <div style="padding:0 16px 16px;">
                <input type="text" id="downloads-search" class="kits-input" placeholder="Search downloads..."
                    style="width:100%; margin:6px 0 12px;">
                <div id="downloads-list" class="downloads-list"></div>
            </div>
        </div>
    </div>

    <!-- System Security Dashboard Modal -->
    <div id="security-dashboard-modal" class="modal hidden">
        <div class="modal-content glass" style="width:640px; max-height:85vh; overflow-y:auto;">
            <div class="modal-header">
                <h2>üõ°Ô∏è System Security Dashboard</h2>
                <button id="close-security-dashboard" class="close-btn">&times;</button>
            </div>

            <!-- Security Score Badge -->
            <div id="security-score-section" style="text-align:center; padding:20px 0;">
                <div id="security-grade-badge"
                    style="display:inline-flex; width:80px; height:80px; border-radius:50%; align-items:center; justify-content:center; font-size:28px; font-weight:800; background:linear-gradient(135deg,#34A853,#4CAF50); color:white; box-shadow:0 4px 20px rgba(52,168,83,0.4); margin-bottom:8px;">
                    A+</div>
                <div style="font-size:14px; opacity:0.7; margin-top:8px;">Security Score: <strong
                        id="security-score-text">10/10</strong></div>
                <div id="security-score-bar"
                    style="width:200px; height:6px; background:var(--sys-glass-element); border-radius:4px; margin:8px auto; overflow:hidden;">
                    <div id="security-score-fill"
                        style="height:100%; width:100%; background:linear-gradient(90deg,#34A853,#4CAF50); border-radius:4px; transition:width 0.5s;">
                    </div>
                </div>
            </div>

            <!-- Dashboard Tabs -->
            <div style="display:flex; gap:4px; padding:0 12px; margin-bottom:16px; overflow-x:auto;">
                <button class="sec-tab active" data-sec-tab="security"
                    style="padding:8px 16px; border:none; background:color-mix(in srgb, var(--md-sys-color-primary) 18%, transparent); color:var(--md-sys-color-on-surface); border-radius:8px; cursor:pointer; font-size:12px; white-space:nowrap;">üîí
                    Security</button>
                <button class="sec-tab" data-sec-tab="hardware"
                    style="padding:8px 16px; border:none; background:var(--sys-glass-highlight); color:var(--md-sys-color-on-surface); border-radius:8px; cursor:pointer; font-size:12px; white-space:nowrap;">üíª
                    Hardware</button>
                <button class="sec-tab" data-sec-tab="network"
                    style="padding:8px 16px; border:none; background:var(--sys-glass-highlight); color:var(--md-sys-color-on-surface); border-radius:8px; cursor:pointer; font-size:12px; white-space:nowrap;">üåê
                    Network</button>
                <button class="sec-tab" data-sec-tab="storage"
                    style="padding:8px 16px; border:none; background:var(--sys-glass-highlight); color:var(--md-sys-color-on-surface); border-radius:8px; cursor:pointer; font-size:12px; white-space:nowrap;">üíæ
                    Storage</button>
                <button class="sec-tab" data-sec-tab="browser"
                    style="padding:8px 16px; border:none; background:var(--sys-glass-highlight); color:var(--md-sys-color-on-surface); border-radius:8px; cursor:pointer; font-size:12px; white-space:nowrap;">üåç
                    Browser</button>
            </div>

            <!-- Tab Content -->
            <div id="sec-panel-security" class="sec-panel" style="padding:0 16px 16px;"></div>
            <div id="sec-panel-hardware" class="sec-panel" style="padding:0 16px 16px; display:none;"></div>
            <div id="sec-panel-network" class="sec-panel" style="padding:0 16px 16px; display:none;"></div>
            <div id="sec-panel-storage" class="sec-panel" style="padding:0 16px 16px; display:none;"></div>
            <div id="sec-panel-browser" class="sec-panel" style="padding:0 16px 16px; display:none;"></div>
        </div>
    </div>

    <!-- Device Compatibility Modal -->
    <div id="device-info-modal" class="modal hidden">
        <div class="modal-content glass" style="width:560px; max-height:80vh; overflow-y:auto;">
            <div class="modal-header">
                <h2>üì± Device Compatibility</h2>
                <button id="close-device-info" class="close-btn">&times;</button>
            </div>
            <div id="device-info-content" style="font-size:13px; line-height:1.8;"></div>
        </div>
    </div>

    <script type="module" src="renderer.js"></script>
</body>

</html>